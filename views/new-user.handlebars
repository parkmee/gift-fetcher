<script type="text/javascript">
  $(document).ready(function () {
    $('select').formSelect();

    $(".new-user-submit-btn").on("click", function(){
    let email = $("#user-name").val();
    let userName = $("#user-name").val();
    let firstName = $("#first-name").val();
    let lastName = $("#last-name").val();

    let postData = {
        email: email,
        userName: userName,
        firstName: firstName,
        lastName: lastName
    };
    let newUserUrl = "/api/person/create";
    $.ajax({
        url: newUserUrl,
        type: "POST",
        data: postData
      }).then(function(data) {
        window.location.href="/index";        
      });
    });
  });

   
</script>

<nav class="sticky-top">
  <div class="nav-wrapper">
    <a href="index.html" class="brand-logo"><span class="gift-icon"><i class="fas fa-gift"></i></span>Gift Fetcher</a>
    {{!-- ToDo: Work on collapsible menu for mobile --}}
  </div>
</nav>

<div class="container">
  <h1 class="form-title">Sign-Up</h1>
  <div class="row">
    <form class="col s12 new-user-form">
      <div class="row">
        <div class="input-field col s6">
          <input placeholder="First Name" id="first-name" type="text" class="validate">
          <label for="first-name">First Name</label>
        </div>
        <div class="input-field col s6">
          <input placeholder="Last Name" id="last-name" type="text" class="validate">
          <label for="last-name">Last Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s6">
          <input placeholder="User Name (email)" id="user-name" type="text" class="validate">
          <label for="user-name">User Name</label>
        </div>
        <div class="input-field col s6">
          <input placeholder="MM/DD" id="dob" type="text" class="validate">
          <label for="dob">Birthday</label>
        </div>
      </div>

      <h1 class="form-title">Profile</h1>
      <p>Please provide your special dates, gift preferences, and wish list below. Information you provide below will
        be visible to other users who add you to their Gift Fetcher contact list.</p>
      <div class="personal-dates-subform">
        <h3 class="form-section">Special Dates (optional)</h3>
        <div class="row">
          <div class="input-field col s7">
            <input placeholder="Date description" id="date-description" type="text" class="validate">
            <label for="date-description">Description</label>
          </div>
          <div class="input-field col s2">
            <input placeholder="MM/DD/YYYY" id="special-date" type="text" class="validate">
            <label for="special-date">Date</label>
          </div>
          <div class="input-field col s2">
            <select>
              <option value="true" selected>Yes</option>
              <option>No</option>
            </select>
            <label>Recurring</label>
          </div>
          <!-- Clicking this button adds additional rows -->
          <a class="btn-floating btn-small waves-effect waves-light"><i class="material-icons">add</i></a>
        </div>
        <div class="add-event d-flex flex-wrap">
          <div class="new-event-tile d-inline-flex">
            <p>Anniversary - 10/17 <i class="fas fa-times-circle"></i></p>
          </div>
          <div class="new-event-tile d-inline-flex">
            <p>Graduation - 2/17/19 <i class="fas fa-times-circle"></i></p>
          </div>
        </div>
      </div>

      <div class="personal-preferences-subform">
        <h3 class="form-section">Gift Preferences (optional)</h3>
        <div class="row">
          <div class="input-field col s11">
            <input placeholder="Favorite hobbies (ex: fishing, gaming), categories (ex: electronics, kitchen), or color"
              id="gift-preference" type="text" class="validate">
            <label for="gift-preference">Description</label>
          </div>
          <!-- clicking this button adds additional rows -->
          <a class="btn-floating btn-small waves-effect waves-light"><i class="material-icons">add</i></a>
        </div>
        <div class="filter-view d-flex flex-wrap">
          <div class="filter-term-tile d-inline-flex">
            <p>KitchenAid <i class="fas fa-times-circle"></i></p>
          </div>
          <div class="filter-term-tile d-inline-flex">
            <p>Video Games <i class="fas fa-times-circle"></i></p>
          </div>
          <div class="filter-term-tile d-inline-flex">
            <p>Red <i class="fas fa-times-circle"></i></p>
          </div>
        </div>
      </div>
    </form>
  </div>
  <h3 class="form-section wish-list">Wish List (optional)</h3>
  {{> content/product-search}}

  <div class="row submit-row d-flex justify-content-center">
    <button class="btn waves-effect waves-light submit-btn" type="submit" name="action"><a href="index">Join
      <i class="material-icons right">send</i></a>
    </button>
  </div>

</div>